@let prompt = this.prompt();
@if (prompt) {
  <div class="bg-card text-card-foreground mb-8 rounded-xl border p-8 shadow">
    <div class="mb-6 flex items-center gap-4">
      <div class="flex items-center space-x-2">
        <fa-icon [icon]="['far', 'clipboard']"></fa-icon>
        <h2
          class="flex items-center gap-2 leading-none font-semibold tracking-tight"
        >
          Prompt Details
        </h2>
      </div>
    </div>
    <div>
      <p>
        <strong>MCP Services:</strong>
        {{ prompt.mcp_servers?.join(', ') || 'None' }}
      </p>
      <p>
        <strong>Messages:</strong>
        {{ prompt.messages.length || 0 }} message(s)
      </p>
    </div>
    <div class="mt-6 mb-2 flex items-center gap-4">
      <div class="flex items-center space-x-2">
        <fa-icon [icon]="['far', 'message']"></fa-icon>
        <h2
          class="flex items-center gap-2 leading-none font-semibold tracking-tight"
        >
          Prompt Messages
        </h2>
      </div>
    </div>
    <div class="space-y-2 rounded-lg border p-4">
      @for (message of prompt.messages; track message.content; let i = $index) {
        <div class="mb-4">
          <div class="mb-2 flex items-center gap-2">
            <div
              class="focus:ring-ring bg-primary text-primary-foreground hover:bg-primary/80 inline-flex items-center rounded-full border border-transparent px-2.5 py-0.5 text-xs font-semibold transition-colors focus:ring-2 focus:ring-offset-2 focus:outline-none"
            >
              Message {{ i + 1 }}
            </div>
            <div
              class="focus:ring-ring text-foreground inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:ring-2 focus:ring-offset-2 focus:outline-none"
            >
              {{ message.role }}
            </div>
          </div>
          <pre class="bg-muted rounded p-2 text-sm whitespace-pre-wrap">
  {{ message.content }}</pre
          >
        </div>
      }
    </div>
  </div>
}
